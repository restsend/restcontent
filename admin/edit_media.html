<div class="flex mt-4"
    x-data="{choicename:'', editobj:$store.editobj, media:$store.media, tab:'editor', showName:false}" x-init="
    showName = editobj.mode != 'create'
    ">
    <div class="flex">
        <div class="flex flex-col w-full">
            <div class="flex">
                <span class="flex justify-start mx-8 mt-2 space-x-1 rounded-lg bg-slate-100 p-0.5" role="tablist"
                    aria-orientation="horizontal">
                    <button :class="tab=='editor'?'bg-white shadow':''" @click="tab = 'editor'"
                        class="flex items-center rounded-md py-[0.4375rem] pl-2 pr-2 text-sm font-semibold lg:pr-3"
                        role="tab" type="button" aria-selected="false" tabindex="-1"
                        aria-controls="headlessui-tabs-panel-16">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="w-6 h-6  stroke-sky-500">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
                        </svg>
                        <span class="sr-only lg:not-sr-only lg:ml-2 text-slate-600">Editor</span></button>
                    <button :class="tab=='setting'?'bg-white shadow':''" @click="tab = 'setting'"
                        class="flex items-center rounded-md py-[0.4375rem] pl-2 pr-2 text-sm font-semibold lg:pr-3"
                        role="tab" type="button" aria-selected="true" tabindex="0"
                        aria-controls="headlessui-tabs-panel-17">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="w-6 h-6 stroke-sky-500">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg><span class="sr-only lg:not-sr-only lg:ml-2 text-slate-900">Setting</span></button>
                </span>
            </div>

            <div class="flex-grow mt-4 bg-white rounded-lg shadow mx-4 lg:mx-8">
                <div x-show="tab=='editor'" class="w-96 lg:w-full p-4 mx-6 py-6">
                    <template x-if="showName">
                        <div class="flex-col mr-8 mb-4">
                            <div class="space-y-1">
                                <div class="space-y-1">
                                    <p><label>URL</label></p>
                                    <div class="flex">
                                        <input type="text" class="border border-gray-300 rounded-md w-full py-1.5"
                                            readonly :value="editobj.names.public_url.value" />
                                        <div x-admin-copyclip="editobj.names.public_url.value"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-1">
                                <label class="block text-sm font-medium leading-6"
                                    x-admin-edit-label="editobj.names.path"></label>
                                <div class="mt-2  w-full">
                                    <div x-admin-edit="editobj.names.path"></div>
                                </div>
                            </div>
                            <div class="space-y-1">
                                <div class="space-y-1">
                                    <label class="block text-sm font-medium leading-6"
                                        x-admin-edit-label="editobj.names.name"></label>
                                    <div class="mt-2">
                                        <div id="id_name" x-admin-edit="editobj.names.name"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                    <div class="flex justify-end mx-4 mb-4">
                        <div class="flex flex-row-reverse space-x-4">
                            <div class="px-4">
                                <label class="flex flex-col w-max mx-auto text-center">
                                    <input class="cursor-pointer w-36 hidden" type="file" multiple
                                        @change="media.choiceFile($data, $event.target.files[0])" />
                                    <div
                                        class="text text-indigo-700 bg-indigo-100 hover:bg-indigo-200 rounded cursor-pointer p-1 px-3">
                                        Select</div>
                                </label>
                            </div>
                            <div class="m-auto">
                                <p x-text="choicename"></p>
                            </div>
                        </div>
                    </div>
                    <template x-if="media.canPreview">
                        <div class="border mr-12 relative">
                            <div>
                                <img src="./transparent.png">
                            </div>
                            <template x-if="media.isLocalPreview">
                                <div class="absolute top-0 flex justify-center w-full">
                                    <img :src="media.previewUrl">
                                </div>
                            </template>
                            <template x-if="!media.isLocalPreview">
                                <a :href="media.previewUrl" target="_blank">
                                    <div class="absolute top-0 flex justify-center w-full">
                                        <img :src="media.previewUrl">
                                    </div>
                                </a>
                            </template>
                        </div>
                    </template>
                    <template x-if="!media.canPreview">
                        <div class="w-96  m-auto relative">
                            <template x-if="media.isLocalPreview">
                                <div x-text="media.formatUrl"></div>
                            </template>
                            <template x-if="!media.isLocalPreview && editobj.names.name.value">
                                <a :href="media.formatUrl" target="_blank">
                                    <div x-text="media.formatUrl"></div>
                                </a>
                            </template>
                        </div>
                    </template>
                </div>

                <div x-show="tab=='setting'" class="w-96 lg:w-full py-6 px-6">

                    <div class="space-y-1">
                        <p><label>Alternative text</label></p>
                        <div x-admin-edit="editobj.names.alt"></div>
                        <p><span class="text-gray-400">This text will be displayed if the asset can't be shown.</span>
                        </p>
                    </div>
                    <div class="space-y-1">
                        <label>Caption</label>
                        <div x-admin-edit="editobj.names.title"></div>
                    </div>
                    <div class="space-y-1">
                        <label class="block text-sm font-medium leading-6"
                            x-admin-edit-label="editobj.names.remark"></label>
                        <div class="mt-2  w-full">
                            <div x-admin-edit="editobj.names.remark">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="flex-col w-96 space-y-4">
            <div class="space-x-3 pl-2 mt-4 h-8">
                <template x-if="editobj.mode == 'create' && choicename !== ''">
                    <div>
                        <button @click="media.doCreate($event, $data)"
                            class="mt-3 inline-flex w-full rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto">
                            Create</button>
                    </div>
                </template>

                <template x-if="editobj.mode == 'edit'">
                    <div>
                        <button @click="media.doSave($event, $data)"
                            class="mt-3 inline-flex w-full rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto">
                            Save</button>
                        <button @click="$store.queryresult.onDeleteOne($event)"
                            class="inline-flex w-full rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto">
                            Delete</button>
                    </div>
                </template>
            </div>
            <div class="bg-white space-y-5 text-xs px-8 py-6 rounded-md shadow">
                <div class="grid grid-cols-2 gap-6">
                    <div>
                        <p class="font-semibold">SIZE</p>
                        <template x-if="editobj.names">
                            <p class="font-semibold text-gray-700" x-text="media.formatSize"></p>
                        </template>
                    </div>
                    <div>
                        <p class="font-semibold">DIMENSIONS</p>
                        <template x-if="editobj.names">
                            <p class="font-semibold text-gray-700" x-text="media.formatPixel"></p>
                        </template>
                    </div>
                    <div>
                        <p class="font-semibold">DATE</p>
                        <template x-if="editobj.names">
                            <p class="font-semibold text-gray-700" x-text="media.formatDate"></p>
                        </template>
                    </div>
                    <div>
                        <p class="font-semibold">EXTENSION </p>
                        <template x-if="editobj.names">
                            <p class="font-semibold text-gray-700" x-text="media.formatExt"></p>
                        </template>
                    </div>
                </div>
            </div>
            <template x-if="editobj.mode == 'edit' && editobj.names">
                <div class="flex-col bg-white space-y-3 text-xs px-8 py-4 rounded-md shadow">
                    <div class="flex-col space-x-1 items-center">
                        <label class="block text-sm font-medium leading-6">Author</label>
                        <div x-admin-edit="editobj.names.author">
                        </div>
                    </div>
                    <div class="flex-col space-x-1 items-center">
                        <label class="block text-sm font-medium leading-6">Published At</label>
                        <div x-admin-edit="editobj.names.published_at">
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <div class="flex space-x-3">
                            <template x-if="editobj.names.published.value">
                                <span class=" block text-sm font-semibold leading-6 text-blue-700">Published</span>
                            </template>
                            <template x-if="!editobj.names.published.value">
                                <span class=" block text-sm font-semibold leading-6 text-orange-700">UnPublish</span>
                            </template>
                        </div>
                        <template x-if="editobj.names.published.value">
                            <button @click="editobj.doMarkPublished($event,false)"
                                class="inline-flex items-center px-2.5 py-2 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Mark
                                UnPublish</button>
                        </template>
                        <template x-if="!editobj.names.published.value">
                            <button @click="editobj.doMarkPublished($event,true)"
                                class="inline-flex items-center px-2.5 py-2 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Mark
                                Published</button>
                        </template>
                    </div>
                </div>
            </template>
        </div>
    </div>
</div>